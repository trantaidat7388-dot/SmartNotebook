<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.text.*?>

<HBox xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.dat.notebook.controller.LoginController"
      prefWidth="1100" prefHeight="750">
    
    <!-- ========== LEFT PANEL: GRADIENT BACKGROUND WITH SLOGAN ========== -->
    <VBox alignment="CENTER" spacing="25" prefWidth="450" 
          style="-fx-background-color: linear-gradient(to bottom right, #3b82f6, #8b5cf6, #f59e0b); -fx-padding: 60;">
        
        <!-- Logo Icon -->
        <Label text="ðŸ““" style="-fx-font-size: 120px;">
            <effect>
                <DropShadow color="rgba(0,0,0,0.3)" radius="20" offsetY="8"/>
            </effect>
        </Label>
        
        <!-- App Name -->
        <VBox alignment="CENTER" spacing="10">
            <Label text="Smart Notebook" style="-fx-font-size: 42px; -fx-font-weight: bold; -fx-text-fill: white; -fx-font-family: 'Segoe UI', sans-serif;">
                <effect>
                    <DropShadow color="rgba(0,0,0,0.25)" radius="12" offsetY="3"/>
                </effect>
            </Label>
            
            <!-- Slogan -->
            <Label text="Write ideas." style="-fx-font-size: 20px; -fx-text-fill: white; -fx-font-weight: 500;"/>
            <Label text="Save memories." style="-fx-font-size: 20px; -fx-text-fill: white; -fx-font-weight: 500;"/>
        </VBox>
        
        <!-- Decorative Icons -->
        <HBox alignment="CENTER" spacing="15" style="-fx-padding: 30 0 0 0;">
            <Label text="âœ¨" style="-fx-font-size: 30px;"/>
            <Label text="ðŸ“" style="-fx-font-size: 30px;"/>
            <Label text="ðŸ’¡" style="-fx-font-size: 30px;"/>
            <Label text="ðŸŽ¯" style="-fx-font-size: 30px;"/>
        </HBox>
        
        <!-- Version -->
        <Region VBox.vgrow="ALWAYS"/>
        <Label text="Version 1.0 - Gen Z Edition" 
               style="-fx-text-fill: rgba(255,255,255,0.8); -fx-font-size: 13px;"/>
    </VBox>
    
    <!-- ========== RIGHT PANEL: LOGIN/REGISTER FORM ========== -->
    <StackPane prefWidth="650" style="-fx-background-color: #f8f9fa;">
        
        <!-- LOGIN FORM (Default Visible) -->
        <VBox fx:id="loginFormPanel" alignment="CENTER" spacing="20" style="-fx-padding: 50;">
            
            <!-- Header -->
            <VBox alignment="CENTER" spacing="8">
                <Label text="Welcome Back!" 
                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #2d3748;"/>
                <Label text="ÄÄƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c" 
                       style="-fx-font-size: 15px; -fx-text-fill: #718096;"/>
            </VBox>
            
            <!-- Error Box -->
            <HBox fx:id="errorBox" visible="false" managed="false" alignment="CENTER_LEFT" spacing="10"
                  style="-fx-background-color: #fed7d7; -fx-background-radius: 12px; -fx-padding: 12 20;">
                <Label text="âš ï¸" style="-fx-font-size: 16px;"/>
                <Label fx:id="errorLabel" text="" style="-fx-text-fill: #c53030; -fx-font-size: 14px;"/>
            </HBox>
            
            <!-- Username Field -->
            <VBox spacing="8" prefWidth="380">
                <Label text="TÃªn Ä‘Äƒng nháº­p" style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <HBox alignment="CENTER_LEFT" spacing="12" 
                      style="-fx-background-color: white; -fx-background-radius: 12px; -fx-border-color: #e2e8f0; -fx-border-radius: 12px; -fx-border-width: 2px; -fx-padding: 5 15;">
                    <Label text="ðŸ‘¤" style="-fx-font-size: 20px;"/>
                    <TextField fx:id="usernameField" promptText="Nháº­p tÃªn Ä‘Äƒng nháº­p" 
                               style="-fx-background-color: transparent; -fx-border-color: transparent; -fx-font-size: 15px; -fx-text-fill: #2d3748;"
                               HBox.hgrow="ALWAYS"/>
                </HBox>
            </VBox>
            
            <!-- Password Field -->
            <VBox spacing="8" prefWidth="380">
                <Label text="Máº­t kháº©u" style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <HBox alignment="CENTER_LEFT" spacing="12" 
                      style="-fx-background-color: white; -fx-background-radius: 12px; -fx-border-color: #e2e8f0; -fx-border-radius: 12px; -fx-border-width: 2px; -fx-padding: 5 15;">
                    <Label text="ðŸ”’" style="-fx-font-size: 20px;"/>
                    <PasswordField fx:id="passwordField" promptText="Nháº­p máº­t kháº©u" 
                                   style="-fx-background-color: transparent; -fx-border-color: transparent; -fx-font-size: 15px; -fx-text-fill: #2d3748;"
                                   HBox.hgrow="ALWAYS"/>
                </HBox>
            </VBox>
            
            <!-- Remember & Forgot -->
            <HBox alignment="CENTER" spacing="120" prefWidth="380">
                <CheckBox text="Ghi nhá»› Ä‘Äƒng nháº­p" style="-fx-text-fill: #718096; -fx-font-size: 13px;"/>
                <Hyperlink text="QuÃªn máº­t kháº©u?" style="-fx-text-fill: #3b82f6; -fx-font-size: 13px;" onAction="#handleForgotPassword"/>
            </HBox>
            
            <!-- Login Button -->
            <Button text="ÄÄƒng nháº­p" onAction="#handleLogin" prefWidth="380" prefHeight="50"
                    style="-fx-background-color: linear-gradient(to right, #3b82f6, #06b6d4); -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 12px; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(59, 130, 246, 0.5), 15, 0, 0, 5);"/>
            
            <!-- Guest Login Button -->
            <Button text="ðŸŽ­ ÄÄƒng nháº­p cháº¿ Ä‘á»™ Demo" onAction="#handleGuestLogin" prefWidth="380" prefHeight="45"
                    style="-fx-background-color: white; -fx-text-fill: #3b82f6; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 12px; -fx-border-color: #3b82f6; -fx-border-radius: 12px; -fx-border-width: 2px; -fx-cursor: hand;"/>
            
            <!-- Register Link -->
            <HBox alignment="CENTER" spacing="5">
                <Label text="ChÆ°a cÃ³ tÃ i khoáº£n?" style="-fx-text-fill: #718096; -fx-font-size: 14px;"/>
                <Hyperlink text="ÄÄƒng kÃ½ ngay" style="-fx-text-fill: #10b981; -fx-font-size: 14px; -fx-font-weight: bold;" 
                           onAction="#handleShowRegister"/>
            </HBox>
        </VBox>
        
        <!-- REGISTER FORM (Initially Hidden) -->
        <ScrollPane fx:id="registerScrollPane" visible="false" managed="false" fitToWidth="true" 
                    style="-fx-background-color: transparent; -fx-background: #f8f9fa;">
        <VBox fx:id="registerFormPanel" alignment="CENTER" spacing="12" style="-fx-padding: 30 50;">
            
            <!-- Header -->
            <VBox alignment="CENTER" spacing="5">
                <Label text="Create Account" 
                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2d3748;"/>
                <Label text="Táº¡o tÃ i khoáº£n má»›i" 
                       style="-fx-font-size: 14px; -fx-text-fill: #718096;"/>
            </VBox>
            
            <!-- Error/Success Boxes for Register -->
            <HBox fx:id="registerErrorBox" visible="false" managed="false" alignment="CENTER_LEFT" spacing="10"
                  style="-fx-background-color: #fed7d7; -fx-background-radius: 10px; -fx-padding: 10 15;">
                <Label text="âš ï¸" style="-fx-font-size: 14px;"/>
                <Label fx:id="registerErrorLabel" text="" wrapText="true" maxWidth="320" style="-fx-text-fill: #c53030; -fx-font-size: 13px;"/>
            </HBox>
            
            <HBox fx:id="registerSuccessBox" visible="false" managed="false" alignment="CENTER_LEFT" spacing="10"
                  style="-fx-background-color: #c6f6d5; -fx-background-radius: 10px; -fx-padding: 10 15;">
                <Label text="âœ…" style="-fx-font-size: 14px;"/>
                <Label fx:id="registerSuccessLabel" text="" wrapText="true" maxWidth="320" style="-fx-text-fill: #22543d; -fx-font-size: 13px;"/>
            </HBox>
            
            <!-- Register Fields -->
            <VBox spacing="5" prefWidth="400">
                <Label text="TÃªn Ä‘Äƒng nháº­p" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <TextField fx:id="regUsernameField" promptText="TÃªn Ä‘Äƒng nháº­p (Ã­t nháº¥t 3 kÃ½ tá»±)" 
                           style="-fx-background-color: white; -fx-background-radius: 8px; -fx-border-color: #e2e8f0; -fx-border-radius: 8px; -fx-border-width: 2px; -fx-padding: 10 12; -fx-font-size: 14px;"/>
            </VBox>
            
            <VBox spacing="5" prefWidth="400">
                <Label text="Email" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <TextField fx:id="regEmailField" promptText="email@example.com" 
                           style="-fx-background-color: white; -fx-background-radius: 8px; -fx-border-color: #e2e8f0; -fx-border-radius: 8px; -fx-border-width: 2px; -fx-padding: 10 12; -fx-font-size: 14px;"/>
            </VBox>
            
            <VBox spacing="5" prefWidth="400">
                <Label text="Máº­t kháº©u" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <PasswordField fx:id="regPasswordField" promptText="Máº­t kháº©u (Ã­t nháº¥t 6 kÃ½ tá»±)" 
                               style="-fx-background-color: white; -fx-background-radius: 8px; -fx-border-color: #e2e8f0; -fx-border-radius: 8px; -fx-border-width: 2px; -fx-padding: 10 12; -fx-font-size: 14px;"/>
            </VBox>
            
            <VBox spacing="5" prefWidth="400">
                <Label text="XÃ¡c nháº­n máº­t kháº©u" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <PasswordField fx:id="regConfirmPasswordField" promptText="Nháº­p láº¡i máº­t kháº©u" 
                               style="-fx-background-color: white; -fx-background-radius: 8px; -fx-border-color: #e2e8f0; -fx-border-radius: 8px; -fx-border-width: 2px; -fx-padding: 10 12; -fx-font-size: 14px;"/>
            </VBox>
            
            <!-- Register Button -->
            <Button text="ÄÄƒng kÃ½" onAction="#handleRegister" prefWidth="400" prefHeight="45"
                    style="-fx-background-color: linear-gradient(to right, #10b981, #34d399); -fx-text-fill: white; -fx-font-size: 15px; -fx-font-weight: bold; -fx-background-radius: 10px; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(16, 185, 129, 0.5), 12, 0, 0, 4);"/>
            
            <!-- Back to Login Link -->
            <HBox alignment="CENTER" spacing="5" style="-fx-padding: 5 0 0 0;">
                <Label text="ÄÃ£ cÃ³ tÃ i khoáº£n?" style="-fx-text-fill: #718096; -fx-font-size: 14px;"/>
                <Hyperlink text="ÄÄƒng nháº­p" style="-fx-text-fill: #3b82f6; -fx-font-size: 14px; -fx-font-weight: bold;" 
                           onAction="#handleShowLogin"/>
            </HBox>
        </VBox>
        </ScrollPane>
        
    </StackPane>
    
</HBox>
